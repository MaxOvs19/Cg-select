function e(e,s,i){s&&(e.innerHTML=`\n      <div class="cg-select">\n         <p class="selected">${s}</p>\n          <div class="caret"></div>\n       </div>\n      `),i&&(t(e,i),e.innerHTML=`\n      <div class="cg-select" style = "${i}">\n          <p class="selected" style = "${i}">${s}</p>\n          <div class="caret" style = "${i}"></div>\n      </div>\n    `)}function t(e,t){if(!t)return;const{head:i,caret:l,placeholder:n}=t,c=e.querySelector(".cg-select"),o=e.querySelector(".caret"),r=e.querySelector(".selected");s(i,c),s(l,o),r&&s(n,r)}function s(e,t){e&&Object.entries(e).forEach((([e,s])=>{t.style[e]=s}))}function i(e,t){const s=Math.random().toString(36).substring(2,10);let i={};return i=function(e){return(!e||"object"==typeof e)&&e.hasOwnProperty("id")&&e.hasOwnProperty("title")&&e.hasOwnProperty("value")}(e)?{id:e.id,title:e.title,value:t}:{id:s,title:e,value:t},i}function l(e,t){e.forEach((e=>{e.removeAttribute("selected"),e.textContent===t&&e.setAttribute("selected","selected")}))}function n(e,t,s){e.forEach((e=>{if(1==s)e.textContent===t&&e.setAttribute("selected","selected");else{if(0!=s)return;e.textContent===t&&e.removeAttribute("selected")}}))}function c(e,t,i,l){const{element:c,option:o,indexes:r,selectedItems:d}=e,{placeholder:a,styles:h}=o,m=c.querySelector(".selected"),u=c.querySelectorAll(".nativSelect__nativOption"),p=document.createElement("li"),v=document.createTextNode(t),g=document.createElementNS("http://www.w3.org/2000/svg","svg"),f=document.createElementNS("http://www.w3.org/2000/svg","path"),y=document.createElementNS("http://www.w3.org/2000/svg","path");if(g.setAttribute("viewBox","0 0 10 10"),f.setAttribute("d","M3,7 L7,3"),y.setAttribute("d","M3,3 L7,7"),p.setAttribute("id",`tag-${i}-${l}`),g.classList.add("svg-icon"),g.appendChild(f),g.appendChild(y),p.appendChild(v),p.appendChild(g),h){const{chips:e}=h;s(e,p)}return g.addEventListener("click",(e=>{e.stopPropagation(),n(u,t,!1);const s=r.indexOf(i);let c="";r.splice(s,1),d.splice(s,1),c=l?document.getElementById(`chbox-${l}`):document.getElementById(`chbox-${i}`),c.checked=!1,c.parentElement.classList.remove("active"),d.length||(m.innerText=a),p.parentElement.removeChild(p)})),p}function o(){const e=document.createElement("select");return e.setAttribute("form","data"),e.setAttribute("name","dataSelect"),e.classList.add("nativSelect"),e}function r(){const e=document.createElement("option");return e.classList.add("nativSelect__nativOption"),e}new class{#e;#t;#s;#i;#l;#n;#c;#o=[];get value(){return this.#c??null}get indexes(){return this.#o??[]}constructor(e={}){this.#r(e),this.#d(),this.#a()}addItem(e){if(this.#n)return void console.log("can`t add item to category");if(!e)return!1;const t=this.#l.length;this.#l.push(i(e,t)),this.#d()}deleteItem(e){if(this.#n)return void console.log("can`t add item to category");this.#l[e];this.#l.splice(e,1),this.#d()}deleteItemAll(){this.#l.splice(0,this.#l.length),this.#d()}selectIndex(e){if(this.#n)return void console.log("can`t add item to category");const t=this.#e.querySelectorAll(".list__item");if(e>t.length)return;const s=t[e].innerText;this.#d(s)}getElement(e){if(!(e>this.#l.length))return this.#l[e]}disabled(e){if("boolean"!=typeof e)return;const t=this.#e.querySelector(".cg-select");!0===e?(this.#e.setAttribute("disabled",!0),t.classList.add("disabled")):(this.#e.removeAttribute("disabled"),t.classList.remove("disabled"))}buttonControl(e,t){e.addEventListener("click",(()=>{if("open"===t)this.#h(!0);else{if("close"!==t)return;this.#m()}}))}#r(e){this.#s=e;const{items:t,multiselect:s,url:l}=this.#s,n=document.querySelector(e.selector);if(!n)throw new Error(`Element with selector ${e.selector}`);this.#e=n,this.#e.addEventListener("click",(()=>{this.#h()})),this.#l=[],s&&(this.#c=[]),t||!l?t.forEach(((e,t)=>{e.category&&e.categoryItems?(this.#n=e.category,this.#l.push(this.#n),e.categoryItems.forEach(((e,t)=>{this.#l.push(i(e,t))}))):this.#l.push(i(e,t))})):this.#u()}#p(s){const{styles:i,selected:l,placeholder:n}=this.#s;e(this.#e,l||(n||"Select...")),i&&t(this.#e,i),s&&e(this.#e,s,i)}#d(e){const{styles:i,multiselect:l}=this.#s;e||e&&i?(this.#p(e),t(this.#e,i)):this.#p();const n=document.createElement("ul"),c=o();if(n.classList.add("list"),i){const{list:e}=i;s(e,n)}this.#e.appendChild(n),this.#e.appendChild(c),this.#l.forEach((e=>{const t=document.createElement("li"),s=r(),i=document.createElement("strong");if(t.classList.add("list__item"),i.classList.add("category"),l){const s=document.createElement("input");s.type="checkbox",s.setAttribute("id",`chbox-${e.id}`),t.appendChild(s),c.setAttribute("multiple","multiple")}let o="";e.title?(s.text=e.title,s.value=e.title,o=document.createTextNode(e.title),c.appendChild(s),t.appendChild(o),n.appendChild(t)):(o=document.createTextNode(e),i.appendChild(o),n.appendChild(i))})),this.#l.filter(((e,t)=>("object"!=typeof e&&this.#l.splice(t,1),e))),this.#v()}async#u(){const{url:e,items:t,multiselect:s}=this.#s;if(t)return;if(!e)return;const i=await fetch(e);(await i.json()).forEach(((e,t)=>{const i={id:e.id,title:e.name,value:t},l=this.#e.querySelector(".list"),n=o(),c=r(),d=document.createElement("li"),a=document.createTextNode(i.title);if(s){const e=document.createElement("input");e.type="checkbox",e.setAttribute("id",`chbox-${i.id}`),n.setAttribute("multiple","multiple"),d.appendChild(e)}d.classList.add("list__item"),c.value=e.title,c.text=e.title,d.appendChild(a),l.appendChild(d),this.#l.push(i)})),this.#l.filter(((e,t)=>("object"!=typeof e&&this.#l.splice(t,1),e))),this.#v()}#h(e){this.#t=this.#e.querySelector(".list"),this.#i=this.#e.querySelector(".caret"),!0===e?(this.#t.classList.add("open"),this.#i.classList.add("caret_rotate")):(this.#t.classList.toggle("open"),this.#i.classList.toggle("caret_rotate"))}#m(){this.#t.classList.remove("open"),this.#i.classList.remove("caret_rotate")}#v(){const{multiselect:e,placeholder:t,selected:s,multiselectTag:i}=this.#s,o=this.#e.querySelectorAll(".list__item"),r=this.#e.querySelector(".selected"),d=this.#e.querySelectorAll(".nativSelect__nativOption"),a=document.createElement("ul");e&&(a.classList.add("multiselect-tag"),r.classList.add("overflow-hidden")),o.forEach(((h,m)=>{h.addEventListener("click",(u=>{const p=this.#l[m];if(e){u.stopPropagation(),h.classList.toggle("active");const e=h.querySelector('input[type="checkbox"]');if(e){u.target instanceof HTMLInputElement||(e.checked=!e.checked);const l=this.#o.indexOf(m);if(-1===l)if(n(d,p.title,!0),this.#o.push(m),r.innerText="",i){this.#c.push(p),r.appendChild(a);const e={option:this.#s,element:this.#e,indexes:this.#o,selectedItems:this.#c};a.appendChild(c(e,p.title,m,p.id))}else this.#c.push(p.title),r.innerText=this.#c;else{if(i){const e=document.getElementById(`tag-${m}-${p.id}`);a.removeChild(e)}this.#o.splice(l,1),this.#c.splice(l,1),n(d,p.title,!1)}this.#c.length?i?r.appendChild(a):r.innerText=this.#c:r.innerText=t||(s||"Select...")}}else r.innerText=p.title,this.#c=p,l(d,p.title),o.forEach((e=>{e.classList.remove("active")})),h.classList.add("active")}))}))}#a(){const{event:e}=this.#s;e&&e&&"mouseenter"===e&&(this.#e.addEventListener(e,(()=>{this.#h()})),this.#e.addEventListener("mouseleave",(()=>{this.#m()})))}}({selector:".cg-dropdown_one",placeholder:"Выберите авто",items:["BMW",{id:"213sade",title:"Opel",value:1},"Mersedes","MAN","max"],multiselect:!0,multiselectTag:!0}).disabled(!1);
//# sourceMappingURL=index.565b5911.js.map
